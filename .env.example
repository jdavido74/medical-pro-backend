# =============================================================================
# MedicalPro Backend - Development Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values.
# NEVER commit the actual .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
API_VERSION=v1

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_USER=medicalpro
DB_PASSWORD=CHANGE_ME_REQUIRED
DB_DIALECT=postgres

# Central Database (manages all clinics)
CENTRAL_DB_NAME=medicalpro_central

# Default Clinic Database (for testing/development)
# In production, clinic DB is determined by JWT token
CLINIC_DB_NAME=medicalpro_clinic_550e8400_e29b_41d4_a716_446655440000

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
JWT_SECRET=CHANGE_ME_USE_LONG_RANDOM_STRING_MIN_32_CHARS
JWT_REFRESH_SECRET=CHANGE_ME_USE_DIFFERENT_LONG_RANDOM_STRING
JWT_EXPIRE=24h
JWT_REFRESH_EXPIRE=7d

# -----------------------------------------------------------------------------
# TOTP (Two-Factor Authentication)
# -----------------------------------------------------------------------------
# Must be different from JWT_SECRET for security isolation
TOTP_ENCRYPTION_KEY=CHANGE_ME_USE_UNIQUE_RANDOM_STRING_FOR_TOTP

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3002

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000
# BACKEND_URL is used in email templates; falls back to APP_URL if not set
# BACKEND_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
# For development: use Mailhog (http://localhost:8025)
# For production: use SendGrid, AWS SES, Mailgun, etc.
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=noreply@medicalpro.local

# Email Testing Mode
# When enabled, all emails are sent to TEST_EMAIL_ADDRESS
TEST_MODE_EMAIL=false
TEST_EMAIL_ADDRESS=dev@medicalpro.test

# -----------------------------------------------------------------------------
# External APIs
# -----------------------------------------------------------------------------
INSEE_API_TOKEN=your-insee-api-token
INSEE_API_URL=https://api.insee.fr/entreprises/sirene/V3

# FINESS/ADELI Validation (medical specific - France)
FINESS_API_URL=https://finess.esante.gouv.fr/
ADELI_API_URL=https://adeli.esante.gouv.fr/

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FILE=logs/app.log

# -----------------------------------------------------------------------------
# Optional Features
# -----------------------------------------------------------------------------
# Enable the job scheduler (cron jobs for reminders, etc.)
ENABLE_JOB_SCHEDULER=false
